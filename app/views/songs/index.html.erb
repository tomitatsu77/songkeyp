
<%= render 'songs/search1' %>
<h1>曲を登録する</h1>
<%= form_with model: @release, local:true do |f| %>
  <strong>曲名</strong>
    <%= f.text_field :song_name %>
  <div>
    <strong>アーティスト(丸いボタンを選んでから）</strong>
    <div>
      <%= f.radio_button :select_artist, 1 %>
      新しいアーティスト<br>
      <%= f.text_field :artist %><br>
      
      <%= f.radio_button :select_artist, 2 %>
      登録済みのアーティスト<br>
      <%= f.select :artist77, options_from_collection_for_select(@artist, :artist, :artist ,"") %>
    </div>
  </div>
  <strong>キー</strong>
  <div><%= f.select :key, {"+7": +7, "+6": +6,"+5": +5,"+4": +4,"+3": +3,"+2": +2,"+1": +1,原キー: 0,"-1": -1,"-2": -2,"-3": -3,"-4": -4,"-5": -5,"-6": -6,"-7": -7} %></div>
  <strong>メモ</strong><br>
  <%= f.text_area :memo %>
    

  <%= f.submit '登録' %>
<% end %>
<% if @songs.present? %>
  <%= link_to "ランダム", song_path(@random), class: "btn btn-info" %>
<% end %>
<div>
  <table class="table">
    <thead>
      <tr>
        <th>曲名</th>
        <th>キー</th>
        <th colspan="2"></th>
      </tr>
    </thead>
    <tbody>
      <% @songs.each do |song| %>
        <tr>
          <td class="col-4">
            <%= link_to song_path(song) do %>
              <%= song.song_name %>
            <% end %>
          </td>
          <td class="col-4">
            <%= link_to "削除", song_path(song), method: :delete, data: { confirm: '本当に消しますか？' }, class: "btn btn-danger" %>
          </td>
          <td class="col-4"><%= link_to "削除", song_path(song), method: :delete, data: { confirm: '本当に消しますか？' }, class: "btn btn-danger" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>